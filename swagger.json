{"openapi":"3.1.0","info":{"title":"WeatherTago API","description":"WeatherTago API 명세서","version":"3.0.0"},"servers":[{"url":"/"}],"security":[{"JWT TOKEN":[]}],"tags":[{"name":"Notice","description":"공지사항 조회 API"},{"name":"User","description":"유저 관련 API"},{"name":"Auth","description":"카카오 소셜 로그인 및 JWT 토큰 관련 API"},{"name":"Alarm auto send","description":"알림 전송 API 아직 X"},{"name":"Notice web crawling","description":"공지사항 크롤링 API"},{"name":"Alarm","description":"알림 API"}],"paths":{"/api/users/me/favorite":{"get":{"tags":["favorite-rest-controller"],"operationId":"getMyFavorite","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseFavoriteResultDTO"}}}}}},"post":{"tags":["favorite-rest-controller"],"operationId":"addFavorite","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FavoriteRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}},"delete":{"tags":["favorite-rest-controller"],"operationId":"removeFavorite","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FavoriteRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/users/me/alarms":{"get":{"tags":["Alarm"],"summary":"모든 알림 조회","description":"사용자의 모든 알림을 조회합니다.","operationId":"getAlarms","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListAlarmDetailDTO"}}}}}},"post":{"tags":["Alarm"],"summary":"알림 생성","description":"알림을 생성하고 알림 id를 반환합니다.","operationId":"createAlarm","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AlarmCreateRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseAlarmDetailDTO"}}}}}}},"/api/users/me/alarms/{alarm_id}/send":{"post":{"tags":["Alarm auto send"],"summary":"알림 전송","description":"사용자가 설정한 시간에 맞추어 알림을 전송합니다.","operationId":"sendAlarm","parameters":[{"name":"alarm_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseAlarmFcmMessageDto"}}}}}}},"/api/station/initialize":{"post":{"tags":["station-rest-controller"],"operationId":"initializeStations","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/notice/crawl-notices":{"post":{"tags":["Notice web crawling"],"summary":"공지사항 크롤링 진행","description":"공지사항 웹 크롤링을 진행합니다.","operationId":"crawlNotices","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseNoticeCrawlingResult"}}}}}}},"/api/auth/reissue":{"post":{"tags":["Auth"],"summary":"토큰 재발급","description":"refreshToken으로 accessToken을 재발급합니다.","operationId":"reissue","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReissueRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseReissueResultDTO"}}}}}}},"/api/auth/login":{"post":{"tags":["Auth"],"summary":"카카오 로그인","description":"카카오 accessToken으로 로그인/회원가입을 처리하고 JWT를 발급합니다.","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/KakaoLoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseLoginResultDTO"}}}}}}},"/api/users/me/alarms/{alarm_id}":{"get":{"tags":["Alarm"],"summary":"특정 알림 조회","description":"사용자의 특정 알림을 조회합니다.","operationId":"getAlarmDetail","parameters":[{"name":"alarm_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseAlarmDetailDTO"}}}}}},"delete":{"tags":["Alarm"],"summary":"알림 삭제","description":"알림을 삭제합니다.","operationId":"deleteAlarm","parameters":[{"name":"alarm_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}},"patch":{"tags":["Alarm"],"summary":"알림 수정","description":"알림을 수정합니다.","operationId":"updateAlarm","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AlarmUpdateRequestDTO"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseVoid"}}}}}}},"/api/users/me":{"get":{"tags":["User"],"summary":"내 정보 조회","description":"로그인한 사용자의 닉네임과 이메일을 반환합니다.","operationId":"getMyInfo","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseUserInfoResponseDTO"}}}}}}},"/api/users/me/favorite/detail":{"get":{"tags":["favorite-rest-controller"],"operationId":"getStationDetailById","parameters":[{"name":"stationId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"time","in":"query","required":true,"schema":{"type":"string","format":"date-time"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseJoinResultDTO"}}}}}}},"/api/subway/path":{"get":{"tags":["subway-path-controller"],"operationId":"getPath","parameters":[{"name":"startStationId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"endStationId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"time","in":"query","required":true,"schema":{"type":"string","format":"date-time"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseSubwayPathDTO"}}}}}}},"/api/station/search":{"get":{"tags":["station-rest-controller"],"operationId":"getStationById","parameters":[{"name":"stationId","in":"query","required":true,"schema":{"type":"integer","format":"int64"}},{"name":"time","in":"query","required":true,"schema":{"type":"string","format":"date-time"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseJoinResultDTO"}}}}}}},"/api/station/info":{"get":{"tags":["station-rest-controller"],"operationId":"getAllSimpleStations","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListSimpleStationDTO"}}}}}}},"/api/notice":{"get":{"tags":["Notice"],"summary":"공지사항 전체 조회","description":"DB에 저장된 모든 공지사항을 최신순으로 조회합니다.","operationId":"getNotices","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListNoticeDetail"}}}}}}},"/api/notice/{notice_id}":{"get":{"tags":["Notice"],"summary":"특정 공지사항 조회","description":"특정 공지사항을 id로 조회합니다.","operationId":"getNotice","parameters":[{"name":"notice_id","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseNoticeDetail"}}}}}}}},"components":{"schemas":{"FavoriteRequestDTO":{"type":"object","properties":{"stationId":{"type":"integer","format":"int64"}}},"ApiResponseVoid":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"type":"object"}}},"AlarmCreateRequestDTO":{"type":"object","properties":{"pushToken":{"type":"string"},"stationId":{"type":"integer","format":"int64"},"referenceTime":{"type":"string","example":"14:30:00"},"alarmPeriod":{"type":"string","enum":["EVERYDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY","SUNDAY"]},"alarmDay":{"type":"string","enum":["TODAY","YESTERDAY"]},"alarmTime":{"type":"string","example":"14:30:00"}}},"AlarmDetailDTO":{"type":"object","properties":{"alarmId":{"type":"integer","format":"int64"},"pushToken":{"type":"string"},"stationId":{"type":"integer","format":"int64"},"stationName":{"type":"string"},"stationLine":{"type":"string"},"direction":{"type":"string"},"referenceTime":{"type":"string","example":"14:30:00"},"alarmPeriod":{"type":"string","enum":["EVERYDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY","SUNDAY"]},"alarmDay":{"type":"string","enum":["TODAY","YESTERDAY"]},"alarmTime":{"type":"string","example":"14:30:00"}}},"ApiResponseAlarmDetailDTO":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/AlarmDetailDTO"}}},"AlarmFcmMessageDto":{"type":"object","properties":{"pushToken":{"type":"string"},"title":{"type":"string"},"body":{"type":"string"}}},"ApiResponseAlarmFcmMessageDto":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/AlarmFcmMessageDto"}}},"ApiResponseString":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"type":"string"}}},"ApiResponseNoticeCrawlingResult":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/NoticeCrawlingResult"}}},"NoticeCrawlingResult":{"type":"object","properties":{"createdNotices":{"type":"array","items":{"$ref":"#/components/schemas/NoticeDetail"}},"updatedNotices":{"type":"array","items":{"$ref":"#/components/schemas/NoticeDetail"}},"unchangedNotices":{"type":"array","items":{"$ref":"#/components/schemas/NoticeDetail"}},"totalCount":{"type":"integer","format":"int32"}}},"NoticeDetail":{"type":"object","properties":{"noticeId":{"type":"integer","format":"int64"},"title":{"type":"string"},"content":{"type":"string"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"}}},"ReissueRequest":{"type":"object","properties":{"refreshToken":{"type":"string","minLength":1}}},"ApiResponseReissueResultDTO":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/ReissueResultDTO"}}},"ReissueResultDTO":{"type":"object","properties":{"accessToken":{"type":"string"},"refreshToken":{"type":"string"}}},"KakaoLoginRequest":{"type":"object","properties":{"accessToken":{"type":"string","minLength":1}}},"ApiResponseLoginResultDTO":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/LoginResultDTO"}}},"LoginResultDTO":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"newUser":{"type":"boolean"}}},"AlarmUpdateRequestDTO":{"type":"object","properties":{"alarmId":{"type":"integer","format":"int64"},"pushToken":{"type":"string"},"stationId":{"type":"integer","format":"int64"},"referenceTime":{"type":"string","example":"14:30:00"},"alarmPeriod":{"type":"string","enum":["EVERYDAY","MONDAY","TUESDAY","WEDNESDAY","THURSDAY","FRIDAY","SATURDAY","SUNDAY"]},"alarmDay":{"type":"string","enum":["TODAY","YESTERDAY"]},"alarmTime":{"type":"string","example":"14:30:00"}}},"ApiResponseUserInfoResponseDTO":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/UserInfoResponseDTO"}}},"UserInfoResponseDTO":{"type":"object","properties":{"nickname":{"type":"string"},"email":{"type":"string"}}},"ApiResponseFavoriteResultDTO":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/FavoriteResultDTO"}}},"FavoriteResultDTO":{"type":"object","properties":{"favoriteId":{"type":"integer","format":"int64"},"stations":{"type":"array","items":{"$ref":"#/components/schemas/StationDTO"}}}},"StationDTO":{"type":"object","properties":{"stationId":{"type":"integer","format":"int64"},"stationName":{"type":"string"},"stationLine":{"type":"string"}}},"ApiResponseJoinResultDTO":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/JoinResultDTO"}}},"CongestionDTO":{"type":"object","properties":{"level":{"type":"string"},"rate":{"type":"integer","format":"int32"}}},"DirectionalStationDTO":{"type":"object","properties":{"stationId":{"type":"integer","format":"int64"},"congestion":{"$ref":"#/components/schemas/CongestionDTO"}}},"JoinResultDTO":{"type":"object","properties":{"stationId":{"type":"integer","format":"int64"},"name":{"type":"string"},"line":{"type":"string"},"stationCode":{"type":"string"},"direction":{"type":"string"},"weather":{"$ref":"#/components/schemas/WeatherResponseDTO"},"congestionByDirection":{"type":"object","additionalProperties":{"$ref":"#/components/schemas/DirectionalStationDTO"}},"createdAt":{"type":"string","format":"date-time","example":"2025-07-08T22:40:00"}}},"WeatherResponseDTO":{"type":"object","properties":{"tmp":{"type":"number","format":"double"},"reh":{"type":"number","format":"double"},"pcp":{"type":"number","format":"double"},"wsd":{"type":"number","format":"double"},"sno":{"type":"number","format":"double"},"vec":{"type":"number","format":"double"}}},"ApiResponseListAlarmDetailDTO":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"type":"array","items":{"$ref":"#/components/schemas/AlarmDetailDTO"}}}},"ApiResponseSubwayPathDTO":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/SubwayPathDTO"}}},"StationInfo":{"type":"object","properties":{"stationId":{"type":"string"},"stationName":{"type":"string"},"line":{"type":"string"},"congestion":{"$ref":"#/components/schemas/CongestionDTO"}}},"SubwayPathDTO":{"type":"object","properties":{"totalTime":{"type":"string"},"totalDistance":{"type":"string"},"steps":{"type":"array","items":{"$ref":"#/components/schemas/SubwayStepDto"}}}},"SubwayStepDto":{"type":"object","properties":{"line":{"type":"string"},"startStation":{"$ref":"#/components/schemas/StationInfo"},"endStation":{"$ref":"#/components/schemas/StationInfo"},"allStations":{"type":"array","items":{"$ref":"#/components/schemas/StationInfo"}}}},"ApiResponseListSimpleStationDTO":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"type":"array","items":{"$ref":"#/components/schemas/SimpleStationDTO"}}}},"SimpleStationDTO":{"type":"object","properties":{"stationId":{"type":"integer","format":"int64"},"stationName":{"type":"string"},"stationLine":{"type":"string"}}},"ApiResponseListNoticeDetail":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"type":"array","items":{"$ref":"#/components/schemas/NoticeDetail"}}}},"ApiResponseNoticeDetail":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/NoticeDetail"}}}},"securitySchemes":{"JWT TOKEN":{"type":"http","name":"JWT TOKEN","scheme":"bearer","bearerFormat":"JWT"}}}}
