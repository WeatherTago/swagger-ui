{"openapi":"3.1.0","info":{"title":"WeatherTago API","description":"WeatherTago API 명세서","version":"3.0.0"},"servers":[{"url":"/"}],"security":[{"JWT TOKEN":[]}],"tags":[{"name":"notice web crawling","description":"공지사항 크롤링 API"},{"name":"notice","description":"공지사항 조회 API"},{"name":"Auth","description":"카카오 소셜 로그인 및 JWT 토큰 관련 API"}],"paths":{"/api/station/initialize":{"post":{"tags":["station-rest-controller"],"operationId":"initializeStations","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/notice/crawl-notices":{"post":{"tags":["notice web crawling"],"summary":"공지사항 크롤링 진행","description":"공지사항 웹 크롤링을 진행합니다.","operationId":"crawlNotices","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseString"}}}}}}},"/api/auth/reissue":{"post":{"tags":["Auth"],"summary":"토큰 재발급","description":"refreshToken으로 accessToken을 재발급합니다.","operationId":"reissue","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ReissueRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseReissueResultDTO"}}}}}}},"/api/auth/login":{"post":{"tags":["Auth"],"summary":"카카오 로그인","description":"카카오 accessToken으로 로그인/회원가입을 처리하고 JWT를 발급합니다.","operationId":"login","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/KakaoLoginRequest"}}},"required":true},"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseLoginResultDTO"}}}}}}},"/api/timetable/test/raw":{"get":{"tags":["timetable-test-controller"],"operationId":"getRawJson","parameters":[{"name":"stationCode","in":"query","required":true,"schema":{"type":"string"}},{"name":"weekTag","in":"query","required":true,"schema":{"type":"string"}},{"name":"inoutTag","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/timetable/test/parsed":{"get":{"tags":["timetable-test-controller"],"operationId":"getParsedTimetable","parameters":[{"name":"stationCode","in":"query","required":true,"schema":{"type":"string"}},{"name":"weekTag","in":"query","required":true,"schema":{"type":"string"}},{"name":"inoutTag","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TimeTableDTO"}}}}}}}},"/api/station/test/all":{"get":{"tags":["station-test-controller"],"operationId":"getAllStations","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListJoinResultDTO"}}}}}}},"/api/station/search":{"get":{"tags":["station-rest-controller"],"operationId":"getStationsByName","parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListJoinResultDTO"}}}}}}},"/api/station/details":{"get":{"tags":["station-detail-controller"],"operationId":"getDetails","parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string"}},{"name":"line","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseResponse"}}}}}}},"/api/station/code":{"get":{"tags":["station-code-controller"],"operationId":"getStationCodeByName","parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/station/code/with-line":{"get":{"tags":["station-code-controller"],"operationId":"getStationCodeByNameAndLine","parameters":[{"name":"name","in":"query","required":true,"schema":{"type":"string"}},{"name":"line","in":"query","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"type":"string"}}}}}}},"/api/notice":{"get":{"tags":["notice"],"summary":"공지사항 전체 조회","description":"DB에 저장된 모든 공지사항을 최신순으로 조회합니다.","operationId":"getNotices","responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseListNoticeDetail"}}}}}}},"/api/notice/{noticeId}":{"get":{"tags":["notice"],"summary":"특정 공지사항 조회","description":"특정 공지사항을 id로 조회합니다.","operationId":"getNotice","parameters":[{"name":"noticeId","in":"path","required":true,"schema":{"type":"integer","format":"int64"}}],"responses":{"200":{"description":"OK","content":{"*/*":{"schema":{"$ref":"#/components/schemas/ApiResponseNoticeDetail"}}}}}}}},"components":{"schemas":{"ApiResponseString":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"type":"string"}}},"ReissueRequest":{"type":"object","properties":{"refreshToken":{"type":"string","minLength":1}}},"ApiResponseReissueResultDTO":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/ReissueResultDTO"}}},"ReissueResultDTO":{"type":"object","properties":{"accessToken":{"type":"string"}}},"KakaoLoginRequest":{"type":"object","properties":{"accessToken":{"type":"string","minLength":1}}},"ApiResponseLoginResultDTO":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/LoginResultDTO"}}},"LoginResultDTO":{"type":"object","properties":{"userId":{"type":"integer","format":"int64"},"accessToken":{"type":"string"},"refreshToken":{"type":"string"},"newUser":{"type":"boolean"}}},"TimeTableDTO":{"type":"object","properties":{"departureTime":{"type":"string"},"destination":{"type":"string"},"direction":{"type":"string"},"hour":{"type":"integer","format":"int32"}}},"ApiResponseListJoinResultDTO":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"type":"array","items":{"$ref":"#/components/schemas/JoinResultDTO"}}}},"CongestionDTO":{"type":"object","properties":{"level":{"type":"string"},"rate":{"type":"integer","format":"int32"}}},"JoinResultDTO":{"type":"object","properties":{"stationId":{"type":"integer","format":"int64"},"name":{"type":"string"},"line":{"type":"string"},"stationCode":{"type":"string"},"congestion":{"$ref":"#/components/schemas/CongestionDTO"},"createdAt":{"type":"string","format":"date-time"}}},"ApiResponseResponse":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/Response"}}},"Response":{"type":"object","properties":{"name":{"type":"string"},"line":{"type":"string"},"weather":{"$ref":"#/components/schemas/WeatherDTO"},"upTimeTable":{"type":"array","items":{"$ref":"#/components/schemas/TimeTableDTO"}},"downTimeTable":{"type":"array","items":{"$ref":"#/components/schemas/TimeTableDTO"}},"createdAt":{"type":"string","format":"date-time"}}},"WeatherDTO":{"type":"object","properties":{"temperature":{"type":"string"},"condition":{"type":"string"}}},"ApiResponseListNoticeDetail":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"type":"array","items":{"$ref":"#/components/schemas/NoticeDetail"}}}},"NoticeDetail":{"type":"object","properties":{"noticeId":{"type":"integer","format":"int64"},"title":{"type":"string"},"content":{"type":"string"},"createdAt":{"type":"string"},"updatedAt":{"type":"string"}}},"ApiResponseNoticeDetail":{"type":"object","properties":{"isSuccess":{"type":"boolean"},"code":{"type":"string"},"message":{"type":"string"},"result":{"$ref":"#/components/schemas/NoticeDetail"}}}},"securitySchemes":{"JWT TOKEN":{"type":"http","name":"JWT TOKEN","scheme":"bearer","bearerFormat":"JWT"}}}}